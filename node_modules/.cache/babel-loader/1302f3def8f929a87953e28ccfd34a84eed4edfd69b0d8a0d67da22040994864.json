{"ast":null,"code":"import{useState,useEffect}from'react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://34.93.246.160:4000');function App(){const[roomId,setRoomId]=useState('');const[inRoom,setInRoom]=useState(false);const[currentPlayer,setCurrentPlayer]=useState('X');const[board,setBoard]=useState(Array(9).fill(''));const[playerSymbol,setPlayerSymbol]=useState('');const[playersCount,setPlayersCount]=useState(0);useEffect(()=>{socket.on('joinedRoom',playerNum=>{setInRoom(true);setPlayerSymbol(playerNum===1?'X':'O');});socket.on('roomFull',()=>{alert('Room is full!');});socket.on('receiveMove',_ref=>{let{index,symbol}=_ref;setBoard(prev=>{const updated=[...prev];updated[index]=symbol;return updated;});setCurrentPlayer(symbol==='X'?'O':'X');});socket.on('playersUpdate',count=>{setPlayersCount(count);});},[]);const joinRoom=()=>{if(roomId){socket.emit('joinRoom',roomId);}};const handleCellClick=index=>{if(board[index]===''&&currentPlayer===playerSymbol){setBoard(prev=>{const updated=[...prev];updated[index]=playerSymbol;return updated;});socket.emit('playMove',{roomId,index,symbol:playerSymbol});setCurrentPlayer(playerSymbol==='X'?'O':'X');}};return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'30px'},children:!inRoom?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{value:roomId,onChange:e=>setRoomId(e.target.value),placeholder:\"Enter Room ID\"}),/*#__PURE__*/_jsx(\"button\",{onClick:joinRoom,children:\"Join Game\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Room: \",roomId]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"You are: \",playerSymbol]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Players connected: \",playersCount,\"/2\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(3, 100px)',gridGap:'5px',justifyContent:'center'},children:board.map((cell,idx)=>/*#__PURE__*/_jsx(\"div\",{style:{width:'100px',height:'100px',backgroundColor:'#ddd',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'2em',cursor:'pointer'},onClick:()=>handleCellClick(idx),children:cell},idx))})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","socket","App","roomId","setRoomId","inRoom","setInRoom","currentPlayer","setCurrentPlayer","board","setBoard","Array","fill","playerSymbol","setPlayerSymbol","playersCount","setPlayersCount","on","playerNum","alert","_ref","index","symbol","prev","updated","count","joinRoom","emit","handleCellClick","style","textAlign","marginTop","children","value","onChange","e","target","placeholder","onClick","display","gridTemplateColumns","gridGap","justifyContent","map","cell","idx","width","height","backgroundColor","alignItems","fontSize","cursor"],"sources":["/home/sluggerboiii/Tic-tac-toe/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst socket = io('http://34.93.246.160:4000');\n\nfunction App() {\n  const [roomId, setRoomId] = useState('');\n  const [inRoom, setInRoom] = useState(false);\n  const [currentPlayer, setCurrentPlayer] = useState('X');\n  const [board, setBoard] = useState(Array(9).fill(''));\n  const [playerSymbol, setPlayerSymbol] = useState('');\n  const [playersCount, setPlayersCount] = useState(0);\n\n  useEffect(() => {\n    socket.on('joinedRoom', (playerNum) => {\n      setInRoom(true);\n      setPlayerSymbol(playerNum === 1 ? 'X' : 'O');\n    });\n\n    socket.on('roomFull', () => {\n      alert('Room is full!');\n    });\n\n    socket.on('receiveMove', ({ index, symbol }) => {\n      setBoard(prev => {\n        const updated = [...prev];\n        updated[index] = symbol;\n        return updated;\n      });\n      setCurrentPlayer(symbol === 'X' ? 'O' : 'X');\n    });\n\n    socket.on('playersUpdate', (count) => {\n      setPlayersCount(count);\n    });\n  }, []);\n\n  const joinRoom = () => {\n    if (roomId) {\n      socket.emit('joinRoom', roomId);\n    }\n  };\n\n  const handleCellClick = (index) => {\n    if (board[index] === '' && currentPlayer === playerSymbol) {\n      setBoard(prev => {\n        const updated = [...prev];\n        updated[index] = playerSymbol;\n        return updated;\n      });\n      socket.emit('playMove', { roomId, index, symbol: playerSymbol });\n      setCurrentPlayer(playerSymbol === 'X' ? 'O' : 'X');\n    }\n  };\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '30px' }}>\n      {!inRoom ? (\n        <div>\n          <input value={roomId} onChange={(e) => setRoomId(e.target.value)} placeholder=\"Enter Room ID\" />\n          <button onClick={joinRoom}>Join Game</button>\n        </div>\n      ) : (\n        <div>\n          <h2>Room: {roomId}</h2>\n          <h3>You are: {playerSymbol}</h3>\n          <h4>Players connected: {playersCount}/2</h4>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 100px)',\n            gridGap: '5px',\n            justifyContent: 'center'\n          }}>\n            {board.map((cell, idx) => (\n              <div\n                key={idx}\n                style={{\n                  width: '100px',\n                  height: '100px',\n                  backgroundColor: '#ddd',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '2em',\n                  cursor: 'pointer'\n                }}\n                onClick={() => handleCellClick(idx)}\n              >\n                {cell}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}